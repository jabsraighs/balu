{% extends 'base.html.twig' %}

{% block title %}Quote index{% endblock %}

{% block body %}
    {{form_start(form)}}
    <div class="w-full">
            <h1 class="text-4xl font-bold"> Quotes </h1>
            <div class="flex gap-x-3 w-full">
                {# <div class="flex flex-col">
                    <label> Start Date </label>
                   {{ form(form.createdAt, {"attr": {"class": "rounded-md" ,"type":"date"}}) }}
                </div> #}
                {# <div class="flex flex-col">
                    <label> End Date </label>
                   {{ form(form.expiryAt, {"attr": {"class": "rounded-md" ,"type":"date"}}) }}
                </div> #}
                 <div class="flex flex-col">
                    <label> Status </label>
                    {{ form(form.status, {"attr": {"class": "rounded-md","value":""}}) }}
                </div>
                {# <div class="flex flex-col">
                    <label> Clients </label>
                    {{ form(form.client, {"attr": {"class": "rounded-md" ,"value":""}}) }}
                </div> #}
                <div class="bg-blue-300 p-4 rounded-md">
                    <button type="submit">
                        <svg class="w-[1rem] h-[1rem]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                        </svg>
                    </button>

                </div>
            </div>
            {{form_end(form)}}
            <div>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Quote name</th>
                            <th>CreatedDate</th>
                            <th>ExpiryAt</th>
                            <th>Status</th>
                            <th>TotalAmount</th>
                            <th>actions</th>
                        </tr>
                    </thead>
                    <tbody>
                    {{dump()}}
                            {% for quote in quotes %}
                                <tr>
                                    <td>{{ quote.name }}</td>
                                    <td>{{ quote.createdAt ? quote.createdAt|date('Y-m-d') : '' }}</td>
                                    <td>{{ quote.expiryAt ? quote.expiryAt|date('Y-m-d') : '' }}</td>
                                    <td>{{ quote.status }}</td>
                                    <td>{{ quote.totalAmount }}</td>
                                    <td>
                                        <a href="{{ path('front_user_quote_show', {'id': quote.id}) }}">show</a>
                                        <a href="{{ path('front_user_quote_edit', {'id': quote.id}) }}">edit</a>
                                        <a href="{{ path('front_user_quote_invoice', {'id': quote.id}) }}">cr√©e facture</a>
                                        <a href="{{ path('front_user_quote_generate_pdf', {'id': quote.id}) }}">generer Pdf</a>
                                    </td>
                                </tr>
                            {% endfor %}
                    </tbody>
                </table>
            </div>
    <div>
   

    <a href="{{ path('front_user_quote_new') }}">Create new Devis</a>
{% endblock %}
